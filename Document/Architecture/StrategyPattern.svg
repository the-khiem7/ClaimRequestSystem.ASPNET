<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="730px" preserveAspectRatio="none" style="width:1064px;height:730px;background:#FFFFFF;" version="1.1" viewBox="0 0 1064 730" width="1064px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="594.9219" style="stroke:#181818;stroke-width:1.0;" width="10" x="226.5" y="82.5625"/><rect fill="#FFFFFF" height="536.6563" style="stroke:#181818;stroke-width:1.0;" width="10" x="380" y="111.6953"/><rect fill="#FFFFFF" height="478.3906" style="stroke:#181818;stroke-width:1.0;" width="10" x="550" y="140.8281"/><rect fill="#FFFFFF" height="39.6992" style="stroke:#181818;stroke-width:1.0;" width="10" x="659" y="374.5898"/><rect fill="#FFFFFF" height="39.6992" style="stroke:#181818;stroke-width:1.0;" width="10" x="659" y="485.1211"/><rect fill="#FFFFFF" height="54.832" style="stroke:#181818;stroke-width:1.0;" width="10" x="800" y="248.9258"/><rect fill="none" height="126.7969" style="stroke:#000000;stroke-width:1.5;" width="754" x="304" y="184.9609"/><rect fill="none" height="96.5313" style="stroke:#000000;stroke-width:1.5;" width="589" x="304" y="325.7578"/><rect fill="none" height="96.5313" style="stroke:#000000;stroke-width:1.5;" width="595" x="304" y="436.2891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="31" x2="31" y1="36.2969" y2="695.4844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="231" x2="231" y1="36.2969" y2="695.4844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="385" x2="385" y1="36.2969" y2="695.4844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="554.5" x2="554.5" y1="36.2969" y2="695.4844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="663.5" x2="663.5" y1="36.2969" y2="695.4844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="804.5" x2="804.5" y1="36.2969" y2="695.4844"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="53" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="12" y="24.9951">Client</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="53" x="5" y="694.4844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="12" y="714.4795">Client</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="145" x="159" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="166" y="24.9951">IGenericRepository</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="145" x="159" y="694.4844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="166" y="714.4795">IGenericRepository</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="142" x="314" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="321" y="24.9951">GenericRepository</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="142" x="314" y="694.4844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="321" y="714.4795">GenericRepository</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="57" x="526.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="533.5" y="24.9951">DbSet</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="57" x="526.5" y="694.4844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="533.5" y="714.4795">DbSet</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141" x="593.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="600.5" y="24.9951">QueryableStrategy</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141" x="593.5" y="694.4844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="600.5" y="714.4795">QueryableStrategy</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="744.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="751.5" y="24.9951">IncludeStrategy</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="744.5" y="694.4844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="751.5" y="714.4795">IncludeStrategy</text><rect fill="#FFFFFF" height="594.9219" style="stroke:#181818;stroke-width:1.0;" width="10" x="226.5" y="82.5625"/><rect fill="#FFFFFF" height="536.6563" style="stroke:#181818;stroke-width:1.0;" width="10" x="380" y="111.6953"/><rect fill="#FFFFFF" height="478.3906" style="stroke:#181818;stroke-width:1.0;" width="10" x="550" y="140.8281"/><rect fill="#FFFFFF" height="39.6992" style="stroke:#181818;stroke-width:1.0;" width="10" x="659" y="374.5898"/><rect fill="#FFFFFF" height="39.6992" style="stroke:#181818;stroke-width:1.0;" width="10" x="659" y="485.1211"/><rect fill="#FFFFFF" height="54.832" style="stroke:#181818;stroke-width:1.0;" width="10" x="800" y="248.9258"/><polygon fill="#181818" points="214.5,78.5625,224.5,82.5625,214.5,86.5625,218.5,82.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="31.5" x2="220.5" y1="82.5625" y2="82.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="38.5" y="62.3638">SingleOrDefaultAsync(</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="38.5" y="77.4966">predicate, orderBy, include)</text><polygon fill="#181818" points="368,107.6953,378,111.6953,368,115.6953,372,111.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="236.5" x2="374" y1="111.6953" y2="111.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="243.5" y="106.6294">Execute Query</text><polygon fill="#181818" points="538,136.8281,548,140.8281,538,144.8281,542,140.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="390" x2="544" y1="140.8281" y2="140.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="397" y="135.7622">AsQueryable()</text><polygon fill="#181818" points="401,165.9609,391,169.9609,401,173.9609,397,169.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="395" x2="549" y1="169.9609" y2="169.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="407" y="164.895">IQueryable&lt;T&gt;</text><path d="M304,184.9609 L368,184.9609 L368,192.0938 L358,202.0938 L304,202.0938 L304,184.9609 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="126.7969" style="stroke:#000000;stroke-width:1.5;" width="754" x="304" y="184.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="319" y="198.0278">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="121" x="383" y="197.1714">[Include Relations]</text><polygon fill="#181818" points="788,244.9258,798,248.9258,788,252.9258,792,248.9258" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="390" x2="794" y1="248.9258" y2="248.9258"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="397" y="243.8599">include(query)</text><path d="M815,207.0938 L815,277.0938 L1053,277.0938 L1053,217.0938 L1043,207.0938 L815,207.0938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1043,207.0938 L1043,217.0938 L1053,217.0938 L1043,207.0938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="821" y="224.1606">Example:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="821" y="239.2935">q.Include(p =&gt; p.ProjectManager)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="821" y="254.4263">.Include(p =&gt; p.FinanceStaff)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="821" y="269.5591">.Include(p =&gt; p.ProjectStaffs)</text><polygon fill="#181818" points="401,299.7578,391,303.7578,401,307.7578,397,303.7578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="395" x2="804" y1="303.7578" y2="303.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="407" y="298.6919">Modified query</text><path d="M304,325.7578 L368,325.7578 L368,332.8906 L358,342.8906 L304,342.8906 L304,325.7578 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="96.5313" style="stroke:#000000;stroke-width:1.5;" width="589" x="304" y="325.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="319" y="338.8247">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="110" x="383" y="337.9683">[Apply Predicate]</text><polygon fill="#181818" points="647,370.5898,657,374.5898,647,378.5898,651,374.5898" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="390" x2="653" y1="374.5898" y2="374.5898"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="397" y="369.5239">Where(predicate)</text><path d="M674,347.8906 L674,387.8906 L888,387.8906 L888,357.8906 L878,347.8906 L674,347.8906 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M878,347.8906 L878,357.8906 L888,357.8906 L878,347.8906 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="680" y="364.9575">Example:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="680" y="380.0903">p =&gt; p.Id == id &amp;&amp; p.IsActive</text><polygon fill="#181818" points="401,410.2891,391,414.2891,401,418.2891,397,414.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="395" x2="663" y1="414.2891" y2="414.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="407" y="409.2231">Filtered query</text><path d="M304,436.2891 L368,436.2891 L368,443.4219 L358,453.4219 L304,453.4219 L304,436.2891 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="96.5313" style="stroke:#000000;stroke-width:1.5;" width="595" x="304" y="436.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="319" y="449.356">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="95" x="383" y="448.4995">[Apply Sorting]</text><polygon fill="#181818" points="647,481.1211,657,485.1211,647,489.1211,651,485.1211" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="390" x2="653" y1="485.1211" y2="485.1211"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="397" y="480.0552">orderBy(query)</text><path d="M674,458.4219 L674,498.4219 L894,498.4219 L894,468.4219 L884,458.4219 L674,458.4219 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M884,458.4219 L884,468.4219 L894,468.4219 L884,458.4219 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="680" y="475.4888">Example:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="680" y="490.6216">q =&gt; q.OrderBy(x =&gt; x.Name)</text><polygon fill="#181818" points="401,520.8203,391,524.8203,401,528.8203,397,524.8203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="395" x2="663" y1="524.8203" y2="524.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="407" y="519.7544">Sorted query</text><polygon fill="#181818" points="538,556.9531,548,560.9531,538,564.9531,542,560.9531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="390" x2="544" y1="560.9531" y2="560.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="397" y="555.8872">AsNoTracking()</text><polygon fill="#181818" points="538,586.0859,548,590.0859,538,594.0859,542,590.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="390" x2="544" y1="590.0859" y2="590.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="397" y="585.02">FirstOrDefaultAsync()</text><polygon fill="#181818" points="401,615.2188,391,619.2188,401,623.2188,397,619.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="395" x2="554" y1="619.2188" y2="619.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="407" y="614.1528">Result</text><polygon fill="#181818" points="247.5,644.3516,237.5,648.3516,247.5,652.3516,243.5,648.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="241.5" x2="384" y1="648.3516" y2="648.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="253.5" y="643.2856">Return result</text><polygon fill="#181818" points="42.5,673.4844,32.5,677.4844,42.5,681.4844,38.5,677.4844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="36.5" x2="230.5" y1="677.4844" y2="677.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="48.5" y="672.4185">Return result</text><!--MD5=[b364a11bd433352a78fcb2fb051f0dc3]
@startuml
participant Client
participant IGenericRepository
participant GenericRepository
participant DbSet
participant QueryableStrategy
participant IncludeStrategy

Client -> IGenericRepository : SingleOrDefaultAsync(\npredicate, orderBy, include)
activate IGenericRepository

IGenericRepository -> GenericRepository : Execute Query
activate GenericRepository

GenericRepository -> DbSet : AsQueryable()
activate DbSet
DbSet - -> GenericRepository : IQueryable<T>

alt Include Relations
    GenericRepository -> IncludeStrategy : include(query)
    activate IncludeStrategy
    note right: Example:\nq.Include(p => p.ProjectManager)\n.Include(p => p.FinanceStaff)\n.Include(p => p.ProjectStaffs)
    IncludeStrategy - -> GenericRepository : Modified query
    deactivate IncludeStrategy
end

alt Apply Predicate
    GenericRepository -> QueryableStrategy : Where(predicate)
    activate QueryableStrategy
    note right: Example:\np => p.Id == id && p.IsActive
    QueryableStrategy - -> GenericRepository : Filtered query
    deactivate QueryableStrategy
end

alt Apply Sorting
    GenericRepository -> QueryableStrategy : orderBy(query)
    activate QueryableStrategy
    note right: Example:\nq => q.OrderBy(x => x.Name)
    QueryableStrategy - -> GenericRepository : Sorted query
    deactivate QueryableStrategy
end

GenericRepository -> DbSet : AsNoTracking()
GenericRepository -> DbSet : FirstOrDefaultAsync()

DbSet - -> GenericRepository : Result
deactivate DbSet

GenericRepository - -> IGenericRepository : Return result
deactivate GenericRepository

IGenericRepository - -> Client : Return result
deactivate IGenericRepository
@enduml

PlantUML version 1.2022.7(Mon Aug 22 17:01:30 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>