<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="869px" preserveAspectRatio="none" style="width:1408px;height:869px;background:#FFFFFF;" version="1.1" viewBox="0 0 1408 869" width="1408px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="544" style="stroke:#000000;stroke-width:1.5;" width="1391" x="10" y="227.8281"/><rect fill="none" height="381.5313" style="stroke:#000000;stroke-width:1.5;" width="1371" x="20" y="383.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="52" x2="52" y1="81.2969" y2="788.8281"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="328" x2="328" y1="81.2969" y2="788.8281"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="558" x2="558" y1="81.2969" y2="788.8281"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="788.5" x2="788.5" y1="81.2969" y2="788.8281"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="982" x2="982" y1="81.2969" y2="788.8281"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1097" x2="1097" y1="81.2969" y2="788.8281"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1188" x2="1188" y1="81.2969" y2="788.8281"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1300" x2="1300" y1="81.2969" y2="788.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="30" y="77.9951">Client</text><ellipse cx="52.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M52.5,21.5 L52.5,48.5 M39.5,29.5 L65.5,29.5 M52.5,48.5 L39.5,63.5 M52.5,48.5 L65.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="30" y="800.8232">Client</text><ellipse cx="52.5" cy="812.625" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M52.5,820.625 L52.5,847.625 M39.5,828.625 L65.5,828.625 M52.5,847.625 L39.5,862.625 M52.5,847.625 L65.5,862.625 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119" x="269" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="276" y="69.9951">StaffsController</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119" x="269" y="787.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="276" y="807.8232">StaffsController</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="510" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="517" y="69.9951">IStaffService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="510" y="787.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="517" y="807.8232">IStaffService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94" x="741.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="748.5" y="69.9951">StaffService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94" x="741.5" y="787.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="748.5" y="807.8232">StaffService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="91" x="937" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="944" y="69.9951">UnitOfWork</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="91" x="937" y="787.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="944" y="807.8232">UnitOfWork</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="1038" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1045" y="69.9951">StaffRepository</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="1038" y="787.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1045" y="807.8232">StaffRepository</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="44" x="1166" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="1173" y="69.9951">Staff</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="44" x="1166" y="787.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="1173" y="807.8232">Staff</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="161" x="1220" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="1227" y="69.9951">DeleteStaffResponse</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="161" x="1220" y="787.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="1227" y="807.8232">DeleteStaffResponse</text><polygon fill="#181818" points="316.5,108.4297,326.5,112.4297,316.5,116.4297,320.5,112.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="52.5" x2="322.5" y1="112.4297" y2="112.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252" x="59.5" y="107.3638">DELETE /api/staffs (DeleteStaffRequest)</text><polygon fill="#181818" points="546.5,137.5625,556.5,141.5625,546.5,145.5625,550.5,141.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="328.5" x2="552.5" y1="141.5625" y2="141.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="335.5" y="136.4966">DeleteStaff(DeleteStaffRequest)</text><polygon fill="#181818" points="776.5,166.6953,786.5,170.6953,776.5,174.6953,780.5,170.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="558.5" x2="782.5" y1="170.6953" y2="170.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="565.5" y="165.6294">DeleteStaff(DeleteStaffRequest)</text><line style="stroke:#181818;stroke-width:1.0;" x1="788.5" x2="830.5" y1="199.8281" y2="199.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="830.5" x2="830.5" y1="199.8281" y2="212.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="789.5" x2="830.5" y1="212.8281" y2="212.8281"/><polygon fill="#181818" points="799.5,208.8281,789.5,212.8281,799.5,216.8281,795.5,212.8281" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="795.5" y="194.7622">Validate DeleteStaffRequest</text><path d="M10,227.8281 L74,227.8281 L74,234.9609 L64,244.9609 L10,244.9609 L10,227.8281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="544" style="stroke:#000000;stroke-width:1.5;" width="1391" x="10" y="227.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="25" y="240.895">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="110" x="89" y="240.0386">[Validation Fails]</text><polygon fill="#181818" points="339.5,262.0938,329.5,266.0938,339.5,270.0938,335.5,266.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="333.5" x2="787.5" y1="266.0938" y2="266.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="345.5" y="261.0278">BadRequest</text><polygon fill="#181818" points="63.5,291.2266,53.5,295.2266,63.5,299.2266,59.5,295.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="57.5" x2="327.5" y1="295.2266" y2="295.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="69.5" y="290.1606">400 Bad Request</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="1401" y1="304.2266" y2="304.2266"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="140" x="15" y="314.437">[Validation Succeeds]</text><polygon fill="#181818" points="970.5,335.1641,980.5,339.1641,970.5,343.1641,974.5,339.1641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="788.5" x2="976.5" y1="339.1641" y2="339.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="795.5" y="334.0981">BeginTransaction</text><polygon fill="#181818" points="1085,364.2969,1095,368.2969,1085,372.2969,1089,368.2969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="788.5" x2="1091" y1="368.2969" y2="368.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="795.5" y="363.231">Check if Staff Exists</text><path d="M20,383.2969 L84,383.2969 L84,390.4297 L74,400.4297 L20,400.4297 L20,383.2969 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="381.5313" style="stroke:#000000;stroke-width:1.5;" width="1371" x="20" y="383.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="35" y="396.3638">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="138" x="99" y="395.5073">[Staff Does Not Exist]</text><polygon fill="#181818" points="799.5,417.5625,789.5,421.5625,799.5,425.5625,795.5,421.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="793.5" x2="1096" y1="421.5625" y2="421.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="805.5" y="416.4966">Staff Not Found</text><polygon fill="#181818" points="339.5,446.6953,329.5,450.6953,339.5,454.6953,335.5,450.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="333.5" x2="787.5" y1="450.6953" y2="450.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="345.5" y="445.6294">NotFoundException</text><polygon fill="#181818" points="63.5,475.8281,53.5,479.8281,63.5,483.8281,59.5,479.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="57.5" x2="327.5" y1="479.8281" y2="479.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="69.5" y="474.7622">404 Not Found</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="1391" y1="488.8281" y2="488.8281"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="83" x="25" y="499.0386">[Staff Exists]</text><polygon fill="#181818" points="799.5,519.7656,789.5,523.7656,799.5,527.7656,795.5,523.7656" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="793.5" x2="1096" y1="523.7656" y2="523.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="805.5" y="518.6997">Staff Found</text><polygon fill="#181818" points="1176,548.8984,1186,552.8984,1176,556.8984,1180,552.8984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="788.5" x2="1182" y1="552.8984" y2="552.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="795.5" y="547.8325">Set IsActive to False</text><polygon fill="#181818" points="1085,578.0313,1095,582.0313,1085,586.0313,1089,582.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="788.5" x2="1091" y1="582.0313" y2="582.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="795.5" y="576.9653">UpdateAsync(Staff)</text><polygon fill="#181818" points="799.5,607.1641,789.5,611.1641,799.5,615.1641,795.5,611.1641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="793.5" x2="1096" y1="611.1641" y2="611.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="805.5" y="606.0981">Staff Updated</text><polygon fill="#181818" points="970.5,636.2969,980.5,640.2969,970.5,644.2969,974.5,640.2969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="788.5" x2="976.5" y1="640.2969" y2="640.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="795.5" y="635.231">CommitTransaction</text><polygon fill="#181818" points="1288.5,665.4297,1298.5,669.4297,1288.5,673.4297,1292.5,669.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="788.5" x2="1294.5" y1="669.4297" y2="669.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="795.5" y="664.3638">Create DeleteStaffResponse</text><polygon fill="#181818" points="569.5,694.5625,559.5,698.5625,569.5,702.5625,565.5,698.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="563.5" x2="787.5" y1="698.5625" y2="698.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="575.5" y="693.4966">DeleteStaffResponse</text><polygon fill="#181818" points="339.5,723.6953,329.5,727.6953,339.5,731.6953,335.5,727.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="333.5" x2="557.5" y1="727.6953" y2="727.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="345.5" y="722.6294">DeleteStaffResponse</text><polygon fill="#181818" points="63.5,752.8281,53.5,756.8281,63.5,760.8281,59.5,756.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="57.5" x2="327.5" y1="756.8281" y2="756.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="69.5" y="751.7622">200 OK (DeleteStaffResponse)</text><!--MD5=[700207b74009b4e5170f91fd25f0c97e]
@startuml
actor Client
participant StaffsController
participant IStaffService
participant StaffService
participant UnitOfWork
participant StaffRepository

Client -> StaffsController: DELETE /api/staffs (DeleteStaffRequest)
StaffsController -> IStaffService: DeleteStaff(DeleteStaffRequest)
IStaffService -> StaffService: DeleteStaff(DeleteStaffRequest)
StaffService -> StaffService: Validate DeleteStaffRequest
alt Validation Fails
    StaffService -> StaffsController: BadRequest
    StaffsController -> Client: 400 Bad Request
else Validation Succeeds
    StaffService -> UnitOfWork: BeginTransaction
    StaffService -> StaffRepository: Check if Staff Exists
    alt Staff Does Not Exist
        StaffRepository -> StaffService: Staff Not Found
        StaffService -> StaffsController: NotFoundException
        StaffsController -> Client: 404 Not Found
    else Staff Exists
        StaffRepository -> StaffService: Staff Found
        StaffService -> Staff: Set IsActive to False
        StaffService -> StaffRepository: UpdateAsync(Staff)
        StaffRepository -> StaffService: Staff Updated
        StaffService -> UnitOfWork: CommitTransaction
        StaffService -> DeleteStaffResponse: Create DeleteStaffResponse
        StaffService -> IStaffService: DeleteStaffResponse
        IStaffService -> StaffsController: DeleteStaffResponse
        StaffsController -> Client: 200 OK (DeleteStaffResponse)
    end
end
@enduml

PlantUML version 1.2022.7(Mon Aug 22 17:01:30 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>